@model Framework.ViewModels.PostViewModel

<div class="header-spacer"></div>

<div class="container">
    <div class="row">
        <!-- Main Content -->
        <main class="col-xl-9 col-lg-12 push-lg-0 col-md-12 col-sm-12 col-xs-12">
            <div id="newsfeed-items-grid">

                <div class="ui-block" id="@Model.Id">
                    <article class="hentry post">
                        <div class="post__author author vcard inline-items @Model.Degree">
                            <img src="content/images/@Model.Avatar" alt="author">

                            <div class="author-date">
                                <a class="h6 post__author-name fn" href="Profile">@Model.Name</a>
                                <div class="post__date">
                                    <time class="published" data-time="@Model.DatePost">
                                    </time>
                                </div>
                            </div>
                            <div class="more">
                                <svg class="olymp-three-dots-icon"><use xlink:href="content/icons/icons.svg#olymp-three-dots-icon"></use></svg>
                                <div class="more-dropdown">
                                    <a href="#" data-toggle="modal" data-target="#report">Báo cáo xấu</a>
                                </div>
                            </div>
                        </div>

                        <h6 class="tag">
                            Thể loại: <span>@Model.TypeToString</span>
                        </h6>
                        <p>
                            @Model.Content
                        </p>

                        <div class="post-additional-info inline-items">
                            <a href="#" class="post-add-icon inline-items upvote">
                                <svg class="olymp-stats-arrow"><use xlink:href="content/icons/icons.svg#olymp-stats-arrow"></use></svg>
                                <span>@Model.UpVote</span>
                            </a>
                            <a href="#" class="post-add-icon inline-items downvote">
                                <svg class="olymp-stats-arrow"><use xlink:href="content/icons/icons.svg#olymp-stats-arrow"></use></svg>
                                <span>@Model.DownVote</span>
                            </a>

                            <div class="comments-shared">
                                <div class="post-add-icon inline-items">
                                    <svg class="olymp-speech-balloon-icon"><use xlink:href="content/icons/icons.svg#olymp-speech-balloon-icon"></use></svg>
                                    <span>0</span>
                                </div>
                            </div>
                        </div>

                        <div class="control-block-button post-control-button">
                            <a href="#" class="btn btn-control upvote">
                                <svg class="olymp-stats-arrow"><use xlink:href="content/icons/icons.svg#olymp-stats-arrow"></use></svg>
                            </a>

                            <a href="#" class="btn btn-control downvote">
                                <svg class="olymp-stats-arrow"><use xlink:href="content/icons/icons.svg#olymp-stats-arrow"></use></svg>
                            </a>
                        </div>

                    </article>

                    <div class="comment-section">
                        <ul class="comments-list"></ul>

                        <form class="comment-form inline-items">
                            <div class="post__author author vcard inline-items sinhvien">
                                <img src="content/images/author-page.jpg" alt="author">
                            </div>

                            <div class="form-group with-icon-right ">
                                <textarea class="form-control" placeholder="Trả lời nào..." id="comment" name="Content"></textarea>
                                <div class="add-options-message">
                                    <a class="options-message" id="submit">
                                        <svg class="olymp-speech-balloon-icon"><use xlink:href="content/icons/icons.svg#olymp-speech-balloon-icon"></use></svg>
                                    </a>
                                </div>
                                <span class="material-input"></span>
                                <input type="hidden" name="Id_User" value="@Model.User.Id" />
                                <input type="hidden" name="Id_Post" value="@Model.Id" />
                                <input type="hidden" name="Id_Comment" value="0" />
                                <input type="hidden" name="DateComment" value="" />
                            </div>

                        </form>

                    </div>

                </div>

            </div>

        </main>

        <!-- ... end Main Content -->
        @Html.Partial("_Activities")

        <!-- Window-popup Report -->

        <div class="modal fade" id="report">
            <div class="modal-dialog ui-block window-popup edit-widget edit-widget-twitter">
                <a href="#" class="close icon-close" data-dismiss="modal" aria-label="Close">
                    <svg class="olymp-close-icon"><use xlink:href="content/icons/icons.svg#olymp-close-icon"></use></svg>
                </a>

                <div class="ui-block-title">
                    <h6 class="title">Bài đăng này có nội dung xấu hay không phù hợp?</h6>
                </div>

                <div class="ui-block-content">
                    <fieldset class="form-group label-floating is-select">
                        <label class="control-label">Bài đăng này đã vi phạm vì</label>
                        <select class="selectpicker form-control" size="auto">
                            <option value="1">Nội dung xấu, kích động</option>
                            <option value="2">Chứa từ ngữ xấu, không phù hợp</option>
                        </select>
                    </fieldset>

                    <p>
                        Olympus cảm ơn bạn rất nhiều!
                    </p>
                    <p>
                        <b>Make Olympus great againt!</b>
                    </p>
                    <div class="modal-button">
                        <a href="#" class="btn btn-secondary btn-lg btn--half-width btn-icon-center" data-dismiss="modal" aria-label="Close">Thôi, tha</a>
                        <a href="#" class="btn btn-primary btn-lg btn--half-width btn-icon-center">Xóa dùm</a>
                    </div>
                </div>

            </div>
        </div>

        <!-- ... end Window-popup Report -->

    </div>
</div>

<script>
    var upVote = parseInt('@Model.UpVote');
    var downVote = parseInt('@Model.DownVote');
    if (upVote > downVote) {
        $(".post-add-icon.upvote").addClass("active");
    }
    else if (upVote < downVote) {
        $(".post-add-icon.downvote").addClass("active");
    }
    var vote = parseInt('@Model.Vote');
    if (vote > 0) {
        $(".btn.btn-control.upvote").addClass("clicked");
    }
    else if (vote < 0) {
        $(".btn.btn-control..downvote").addClass("clicked");
    }
</script>